name: 'Store TDD Data'
description: 'Store TDD feedback data in Google Sheets when a pull request is merged'

on:
  - workflow_call

jobs:
  store_tdd_data:
    runs-on: boost-eks-github-runners
    name: Store TDD feedback data

    steps:
      - name: Set up Node.js
        uses: actions/setup-node@v2
        with:
          node-version: "21"

      - name: Store TDD Data
        uses: actions/github-script@v6
        with:
          script: |
            const script = require('src/storeTDDData.js');
            await script({ github, context });
